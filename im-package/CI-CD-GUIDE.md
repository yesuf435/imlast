# CI/CD é…ç½®è¯´æ˜

## ğŸš€ GitHub Actions å·¥ä½œæµ

### è§¦å‘æ¡ä»¶
- **Push** åˆ° `main` æˆ– `develop` åˆ†æ”¯
- **Pull Request** åˆ° `main` åˆ†æ”¯
- **æ‰‹åŠ¨è§¦å‘** (workflow_dispatch)

### å·¥ä½œæµç¨‹

#### 1. æµ‹è¯•é˜¶æ®µ (test)
- âœ… æ£€æŸ¥ä»£ç 
- âœ… è®¾ç½® Node.js 18
- âœ… å¯åŠ¨ MongoDB æœåŠ¡
- âœ… å®‰è£…ä¾èµ–
- âœ… è¿è¡Œæµ‹è¯•
- âœ… æ„å»ºå‰ç«¯
- âœ… ESLint æ£€æŸ¥
- âœ… TypeScript æ£€æŸ¥

#### 2. æ„å»ºé˜¶æ®µ (build)
- âœ… åˆ›å»ºéƒ¨ç½²åŒ…
- âœ… ä¸Šä¼ æ„å»ºäº§ç‰©
- âœ… ä¿ç•™ 30 å¤©

#### 3. éƒ¨ç½²é˜¶æ®µ
- **Staging**: `develop` åˆ†æ”¯è‡ªåŠ¨éƒ¨ç½²åˆ°æµ‹è¯•ç¯å¢ƒ
- **Production**: `main` åˆ†æ”¯è‡ªåŠ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ

#### 4. Docker æ„å»º
- âœ… æ„å»ºåç«¯é•œåƒ
- âœ… æ„å»ºå‰ç«¯é•œåƒ
- âœ… æ¨é€åˆ° Docker Hub

## ğŸ”§ é…ç½®è¦æ±‚

### GitHub Secrets é…ç½®
åœ¨ GitHub ä»“åº“è®¾ç½®ä¸­æ·»åŠ ä»¥ä¸‹ Secretsï¼š

```bash
DOCKER_USERNAME=ä½ çš„Dockerç”¨æˆ·å
DOCKER_PASSWORD=ä½ çš„Dockerå¯†ç 
```

### ç¯å¢ƒå˜é‡
- **NODE_VERSION**: 18
- **MONGODB_VERSION**: 6.0

## ğŸ“‹ ä½¿ç”¨æ­¥éª¤

### 1. æ¨é€ä»£ç 
```bash
git add .
git commit -m "feat: æ–°åŠŸèƒ½"
git push origin develop  # è§¦å‘æµ‹è¯•ç¯å¢ƒéƒ¨ç½²
git push origin main     # è§¦å‘ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```

### 2. æŸ¥çœ‹å·¥ä½œæµ
- è®¿é—® GitHub ä»“åº“çš„ "Actions" æ ‡ç­¾
- æŸ¥çœ‹å·¥ä½œæµæ‰§è¡ŒçŠ¶æ€
- ä¸‹è½½æ„å»ºäº§ç‰©

### 3. æ‰‹åŠ¨éƒ¨ç½²
- åœ¨ GitHub Actions é¡µé¢ç‚¹å‡» "Run workflow"
- é€‰æ‹©åˆ†æ”¯å’Œå‚æ•°
- æ‰§è¡Œéƒ¨ç½²

## ğŸ¯ éƒ¨ç½²ç¯å¢ƒ

### Staging (æµ‹è¯•ç¯å¢ƒ)
- **åˆ†æ”¯**: `develop`
- **ç”¨é€”**: åŠŸèƒ½æµ‹è¯•ã€é›†æˆæµ‹è¯•
- **è®¿é—®**: https://staging.your-domain.com

### Production (ç”Ÿäº§ç¯å¢ƒ)
- **åˆ†æ”¯**: `main`
- **ç”¨é€”**: æ­£å¼å‘å¸ƒ
- **è®¿é—®**: https://your-domain.com

## ğŸ” ç›‘æ§å’Œæ—¥å¿—

### æ„å»ºçŠ¶æ€
- âœ… ç»¿è‰²ï¼šæ„å»ºæˆåŠŸ
- âŒ çº¢è‰²ï¼šæ„å»ºå¤±è´¥
- ğŸŸ¡ é»„è‰²ï¼šæ„å»ºä¸­

### æ—¥å¿—æŸ¥çœ‹
1. ç‚¹å‡»å¤±è´¥çš„æ­¥éª¤
2. æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
3. å®šä½é—®é¢˜åŸå› 

## ğŸ› ï¸ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹ Node.js ç‰ˆæœ¬
```yaml
env:
  NODE_VERSION: '20'  # ä¿®æ”¹ä¸ºéœ€è¦çš„ç‰ˆæœ¬
```

### æ·»åŠ æµ‹è¯•
```yaml
- name: Run tests
  run: |
    cd backend
    npm test
```

### è‡ªå®šä¹‰éƒ¨ç½²
```yaml
- name: Deploy to server
  run: |
    # æ·»åŠ ä½ çš„éƒ¨ç½²å‘½ä»¤
    rsync -avz deployment-package/ user@server:/path/to/app/
```

---
**é…ç½®å®Œæˆæ—¶é—´**: 2025-10-12  
**æ”¯æŒç‰ˆæœ¬**: GitHub Actions v4+

